{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/game_canvas.js","webpack:///./src/js/moving_object.js","webpack:///./src/js/explosion.js","webpack:///./src/js/player_weapon.js","webpack:///./src/js/tie_fighter.js","webpack:///./src/js/upgrade.js","webpack:///./src/js/sounds.js","webpack:///./src/js/x_fighter.js","webpack:///./src/js/game.js","webpack:///./src/js/background_layer.js","webpack:///./src/js/background.js","webpack:///./src/js/images.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","GameCanvas","this","canvas","document","getElementById","context","getContext","playingStatus","notPlayingStatus","MovingObject","props","defaults","velocityX","velocityY","posX","posY","settings","assign","Explosion","loot","img","hp","sX","sY","sWidth","sHeight","height","width","scale","drawImage","PlayerWeapon","status","ctx","Image","src","TieFighter","sounds","weapon","droprate","Math","floor","random","length","rand","ceil","projectiles","x","muted","enemyLaserSound","currentTime","play","push","Upgrade","onload","backgroundMusic","Audio","volume","loop","impact","laserSound","upgradeSound","tieExplodeSound","XFighter","restart","Sounds","spacePressed","upPressed","downPressed","rightPressed","leftPressed","keyUpHandler","keyDownHandler","touchHandler","touchEndHandler","addEventListener","y","projectileCoolDown","projectileCoolDownConstant","e","code","preventDefault","touches","pageX","pageY","fireWeapon","z","Game","images","player","playerImg","reset","bindStuff","draw","checkFPS","checkCollision","score","wave","waveCount","lastWave","lost","paused","won","enemies","enemyLasers","explosions","upgrades","setFPS","now","elapsed","then","Date","fpsInterval","background","forEach","layer","drawWin","drawMuted","clearRect","drawLose","drawPause","drawUI","projectile","alreadyDrawn","enemy","j","explosion","explosionImg","idx","splice","indexOf","upgrade","upgradeImg","drawUpgrade","every","el","speed","Array","keys","map","tieFighterImg","requestAnimationFrame","drawCoolDownConstant","drawHP","drawScore","drawWavesLeft","object1","object2","classList","toggle","pause","font","fillStyle","fillText","BackgroundLayer","imgSrc","drawBackground","layers","v","drawLayer","Images","game","SoundSingleton","initialize","naturalWidth","naturalHeight","instructionsOpenButton","instructionsModalBackground","instructionsModalContent","bgMusic"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,SAIjBlC,EAAoBA,EAAoBmC,EAAI,G,iECzEtCC,EARb,c,4FAAc,SACZC,KAAKC,OAASC,SAASC,eAAe,eACtCH,KAAKI,QAAUJ,KAAKC,OAAOI,WAAW,MACtCL,KAAKM,cAAgBJ,SAASC,eAAe,SAC7CH,KAAKO,iBAAmBL,SAASC,eAAe,a,muBCcrCK,E,YAhBb,aAAwB,MAAZC,EAAY,uDAAJ,GAAI,UACtB,0BACA,IAAIC,EAAW,CACbC,UAAW,EACXC,UAAW,EACXC,KAAM,EACNC,KAAM,GAEFC,EAAWtC,OAAOuC,OAAO,GAAIN,EAAUD,GARvB,OAStB,EAAKE,UAAYI,EAASJ,UAC1B,EAAKC,UAAYG,EAASH,UAC1B,EAAKC,KAAOE,EAASF,KACrB,EAAKC,KAAOC,EAASD,KAZC,E,kPADCf,G,2yBC6CZkB,E,YA7Cb,WAAYC,EAAMT,EAAOU,GAAK,a,4FAAA,UAC5B,wBAAMV,KACDnC,KAAO,YACZ,EAAK8C,GAAK,GACV,EAAKD,IAAMA,EACX,EAAKE,GAAK,EACV,EAAKC,GAAK,EACV,EAAKC,OAAS,IACd,EAAKC,QAAU,IACf,EAAKC,OAAS,GACd,EAAKC,MAAQ,GACb,EAAKC,MAAQ,EACb,EAAKT,KAAOA,EAZgB,E,8RAevB,IAEHd,EAWEJ,KAXFI,QACAe,EAUEnB,KAVFmB,IACAE,EASErB,KATFqB,GACAC,EAQEtB,KARFsB,GACAC,EAOEvB,KAPFuB,OACAC,EAMExB,KANFwB,QACAX,EAKEb,KALFa,KACAC,EAIEd,KAJFc,KACAW,EAGEzB,KAHFyB,OACAC,EAEE1B,KAFF0B,MACAC,EACE3B,KADF2B,MAGE3B,KAAKoB,GAAK,GACZhB,EAAQwB,UACNT,EACAE,EACAC,EACAC,EACAC,EACAX,EAAO,IACPC,EAAO,IACPY,EAAQC,EACRF,EAASE,Q,8BAzCOnB,G,uuBC+CTqB,E,YA7Cb,WAAYvD,EAAMmC,GAAO,M,iGAAA,S,EACvB,U,EAAA,eAAMA,K,8CACDqB,OAAS,SACd,EAAKxD,KAAOA,EACZ,EAAK2B,OAASC,SAASC,eAAe,eACtC,EAAK4B,IAAM,EAAK9B,OAAOI,WAAW,MAClC,EAAKc,IAAM,IAAIa,MANQ,IAOjBb,EAPiB,KAOjBA,IACN,OAAQ7C,GACN,IAAK,YACH6C,EAAIc,IAAM,qCACV,EAAKb,GAAK,EACV,MACF,IAAK,SACHD,EAAIc,IAAM,kCACV,EAAKb,GAAK,EACV,MACF,IAAK,SACHD,EAAIc,IAAM,kCACV,EAAKb,GAAK,EACV,MACF,IAAK,SACHD,EAAIc,IAAM,kCACV,EAAKb,GAAK,EACV,MACF,IAAK,SACHD,EAAIc,IAAM,kCACV,EAAKb,GAAK,GACV,MACF,IAAK,SACHD,EAAIc,IAAM,kCACV,EAAKb,GAAK,GA/BS,S,8RAsClB,IACCW,EAAoC/B,KAApC+B,IAAKZ,EAA+BnB,KAA/BmB,IAAKN,EAA0Bb,KAA1Ba,KAAMC,EAAoBd,KAApBc,KACtBA,GAD0Cd,KAAdY,UAE5BmB,EAAIH,UAAUT,EAAKN,EAAMC,Q,8BA1CFN,G,2yBCqDZ0B,E,YAnDb,WAAYf,EAAKgB,EAAQ1B,GAAO,O,4FAAA,UAC9B,wBAAMA,KAEDR,OAASC,SAASC,eAAe,eACtC,EAAK4B,IAAM,EAAK9B,OAAOI,WAAW,MAClC,EAAK8B,OAASA,EACd,EAAK7D,KAAO,aACZ,EAAK8D,OAAS,YACd,EAAKhB,GAAK,EACV,EAAKF,KAAO,CAAC,CAAE5C,KAAM,UAAW+D,SAAU,MAC1C,EAAKnB,KAAO,EAAKA,KAAKoB,KAAKC,MAAMD,KAAKE,SAAW,EAAKtB,KAAKuB,SAC3D,IAAIC,EAAOJ,KAAKK,KAAqB,IAAhBL,KAAKE,UAXI,OAYF,IAAxB,EAAKtB,KAAL,SAA8BwB,EAChC,EAAKxB,KAAO,EAAKA,KAAL,KAEZ,EAAKA,KAAO,KAEd,EAAKC,IAAMA,EACX,EAAKN,KAAOyB,KAAKC,MAAsB,IAAhBD,KAAKE,UAC5B,EAAK1B,KAAOwB,KAAKC,OAAuB,IAAjBD,KAAKE,UAC5B,EAAKf,OAAS,GACd,EAAKC,MAAQ,GACb,EAAKkB,YAAc,GAtBW,E,8RAyBzB,IACCb,EAAmD/B,KAAnD+B,IAAKZ,EAA8CnB,KAA9CmB,IAAKN,EAAyCb,KAAzCa,KAAMC,EAAmCd,KAAnCc,KAAMF,EAA6BZ,KAA7BY,UAAWa,EAAkBzB,KAAlByB,OAAQC,EAAU1B,KAAV0B,MAC/CK,EAAIH,UAAUT,EAAKN,EAAMC,EAAMY,EAAOD,GACtCzB,KAAKc,MAAQF,I,mCAQb,IAAIiC,EACJ,OALK7C,KAAKmC,OAAOW,QACf9C,KAAKmC,OAAOY,gBAAgBC,YAAc,EAC1ChD,KAAKmC,OAAOY,gBAAgBE,QAGtBjD,KAAKoC,QACX,IAAK,YACHS,EAAI,IAAIhB,EAAa,YAAa,CAChCjB,UAAW,EACXC,KAAMyB,KAAKC,MAAMvC,KAAKa,KAAO,IAC7BC,KAAMwB,KAAKC,MAAMvC,KAAKc,KAAO,MAE/Bd,KAAK4C,YAAYM,KAAKL,S,8BA7CLrC,G,2yBCkBV2C,E,YAlBb,WAAYhC,EAAKD,EAAMT,GAAO,a,4FAAA,UAC5B,wBAAMA,KACDnC,KAAO,UACZ,EAAK6C,IAAMA,EACX,EAAKM,OAAS,GACd,EAAKC,MAAQ,GACb,EAAKR,KAAOA,EANgB,E,qSAShB,IACNd,EAAuDJ,KAAvDI,QAASe,EAA8CnB,KAA9CmB,IAAKN,EAAyCb,KAAzCa,KAAMC,EAAmCd,KAAnCc,KAAMF,EAA6BZ,KAA7BY,UAAWa,EAAkBzB,KAAlByB,OAAQC,EAAU1B,KAAV0B,MACnDtB,EAAQwB,UAAUT,EAAKN,EAAMC,EAAMY,EAAOD,GAC1CzB,KAAKc,MAAQF,EACbO,EAAIiC,OAAS,WACXhD,EAAQwB,UAAUT,EAAKN,EAAMC,EAAMY,EAAOD,S,8BAf1BjB,G,0KCcP,M,0LAdXR,KAAK8C,OAAQ,EACb9C,KAAKqD,gBAAkB,IAAIC,MAAM,uBACjCtD,KAAKqD,gBAAgBE,OAAS,GAC9BvD,KAAKqD,gBAAgBG,MAAO,EAE5BxD,KAAKyD,OAAS,IAAIH,MAAM,2BACxBtD,KAAK0D,WAAa,IAAIJ,MAAM,2CAC5BtD,KAAK+C,gBAAkB,IAAIO,MAAM,mCACjCtD,KAAK2D,aAAe,IAAIL,MAAM,qCAC9BtD,KAAK4D,gBAAkB,IAAIN,MAAM,sCACjCtD,KAAK4D,gBAAgBL,OAAS,Q,wwBCmanBM,E,YA1ab,WAAY1C,GAAK,M,IAAA,O,4FAAA,S,EACf,U,EAAA,kB,8CACK7C,KAAO,SACZ,EAAK8D,OAAS,SACd,EAAKjB,IAAMA,EACX,EAAK2C,UACL,EAAK3B,OAAS4B,EACd,EAAKC,cAAe,EACpB,EAAKC,WAAY,EACjB,EAAKC,aAAc,EACnB,EAAKC,cAAe,EACpB,EAAKC,aAAc,EACnB,EAAKC,aAAe,EAAKA,aAAa9E,KAAlB,MACpB,EAAK+E,eAAiB,EAAKA,eAAe/E,KAApB,MACtB,EAAKgF,aAAe,EAAKA,aAAahF,KAAlB,MACpB,EAAKiF,gBAAkB,EAAKA,gBAAgBjF,KAArB,MACvBW,SAASuE,iBAAiB,QAAS,EAAKJ,cAAc,GACtDnE,SAASuE,iBAAiB,UAAW,EAAKH,gBAAgB,GAC1DpE,SAASuE,iBAAiB,aAAc,EAAKF,cAC7CrE,SAASuE,iBAAiB,WAAY,EAAKD,iBAC3CtE,SAASuE,iBAAiB,YAAa,EAAKF,cApB7B,E,iSAwBfvE,KAAKoB,GAAK,IACVpB,KAAKyB,OAAS,IACdzB,KAAK0B,MAAQ,IACb1B,KAAK6C,EAAI,IACT7C,KAAK0E,EAAI,IACT1E,KAAK4C,YAAc,GACnB5C,KAAK2E,mBAAqB,EAC1B3E,KAAK4E,2BAA6B,K,mCAGvBC,GACG,SAAVA,EAAEC,MAA4B,SAATD,EAAEvF,MACzBU,KAAKgE,cAAe,GAET,SAATa,EAAEvF,KAA2B,cAATuF,EAAEvF,MACxBU,KAAKmE,cAAe,GAET,QAATU,EAAEvF,KAA0B,aAATuF,EAAEvF,MACvBU,KAAKoE,aAAc,GAER,MAATS,EAAEvF,KAAwB,WAATuF,EAAEvF,MACrBU,KAAKiE,WAAY,GAEN,QAATY,EAAEvF,KAA0B,aAATuF,EAAEvF,MACvBU,KAAKkE,aAAc,K,qCAIRW,GACbA,EAAEE,iBACY,SAAVF,EAAEC,OACJ9E,KAAKgE,cAAe,GAET,SAATa,EAAEvF,KAA2B,cAATuF,EAAEvF,MACxBU,KAAKmE,cAAe,GAET,QAATU,EAAEvF,KAA0B,aAATuF,EAAEvF,MACvBU,KAAKoE,aAAc,GAER,MAATS,EAAEvF,KAAwB,WAATuF,EAAEvF,MACrBU,KAAKiE,WAAY,GAEN,QAATY,EAAEvF,KAA0B,aAATuF,EAAEvF,MACvBU,KAAKkE,aAAc,K,mCAIVW,GACPA,EAAEG,UACJhF,KAAKgE,cAAe,EACK,KAArBa,EAAEG,QAAQ,GAAGC,MAAejF,KAAK6C,EACnC7C,KAAKoE,aAAc,EAEnBpE,KAAKmE,cAAe,EAEG,KAArBU,EAAEG,QAAQ,GAAGE,MAAelF,KAAK0E,EACnC1E,KAAKiE,WAAY,EAEjBjE,KAAKkE,aAAc,GAGvBW,EAAEE,mB,sCAGYF,GACdA,EAAEE,iBACF/E,KAAKoE,aAAc,EACnBpE,KAAKmE,cAAe,EACpBnE,KAAKiE,WAAY,EACjBjE,KAAKkE,aAAc,EACnBlE,KAAKgE,cAAe,I,6BAGf,IACG5D,EAAiCJ,KAAjCI,QAASyC,EAAwB7C,KAAxB6C,EAAG6B,EAAqB1E,KAArB0E,EAAGjD,EAAkBzB,KAAlByB,OAAQC,EAAU1B,KAAV0B,MAC3B1B,KAAKgE,cACPhE,KAAKmF,aAEHnF,KAAKoE,cACHpE,KAAK6C,EAAI,EACX7C,KAAK6C,GAAK,GAEV7C,KAAK6C,EAAI,KAGT7C,KAAKmE,eACHnE,KAAK6C,EAAI,IACX7C,KAAK6C,GAAK,GAEV7C,KAAK6C,GAAK,IAGV7C,KAAKiE,WACHjE,KAAK0E,EAAI,IACX1E,KAAK0E,GAAK,IAGV1E,KAAKkE,aACHlE,KAAK0E,EAAI,MACX1E,KAAK0E,GAAK,IAGdtE,EAAQwB,UAAU5B,KAAKmB,IAAK0B,EAAG6B,EAAGjD,EAAQC,K,mCAI1C,IAAImB,EAAG6B,EAAGU,EACV,GAAIpF,KAAK2E,oBAAsB,EAM7B,OALA3E,KAAK2E,oBAAsB3E,KAAK4E,2BAC3B5E,KAAKmC,OAAOW,QACf9C,KAAKmC,OAAOuB,WAAWV,YAAc,EACrChD,KAAKmC,OAAOuB,WAAWT,QAEjBjD,KAAKoC,QAEX,IAAK,SACHS,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,GACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,IAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB,MACF,IAAK,SACHA,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,GACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,GACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB,MACF,IAAK,SACH7B,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,GACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,GACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjBU,EAAI,IAAIvD,EAAa,SAAU,CAC7BjB,WAAY,GACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB1E,KAAK4C,YAAYM,KAAKkC,GACtB,MAEF,IAAK,SACHvC,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB,MACF,IAAK,SACHA,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB,MACF,IAAK,SACH7B,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjBU,EAAI,IAAIvD,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB1E,KAAK4C,YAAYM,KAAKkC,GACtB,MAEF,IAAK,SACHvC,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB,MACF,IAAK,SACHA,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB,MACF,IAAK,SACH7B,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjBU,EAAI,IAAIvD,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB1E,KAAK4C,YAAYM,KAAKkC,GACtB,MAEF,IAAK,UACHvC,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB,MACF,IAAK,UACHA,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB,MACF,IAAK,UACH7B,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjBU,EAAI,IAAIvD,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB1E,KAAK4C,YAAYM,KAAKkC,GACtB,MAEF,IAAK,UACHvC,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB,MACF,IAAK,UACHA,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB,MACF,IAAK,UACH7B,EAAI,IAAIhB,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EACX/B,KAAMd,KAAK0E,EAAI,KAEjBA,EAAI,IAAI7C,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjBU,EAAI,IAAIvD,EAAa,SAAU,CAC7BjB,WAAY,EACZC,KAAMb,KAAK6C,EAAI,GACf/B,KAAMd,KAAK0E,EAAI,KAEjB1E,KAAK4C,YAAYM,KAAKL,GACtB7C,KAAK4C,YAAYM,KAAKwB,GACtB1E,KAAK4C,YAAYM,KAAKkC,QAM1BpF,KAAK2E,oBAAsB,I,gCAIrB,IACFvC,EAA2CpC,KAA3CoC,OAAQhB,EAAmCpB,KAAnCoB,GAAIwD,EAA+B5E,KAA/B4E,2BAKlB,OAJK5E,KAAKmC,OAAOW,QACf9C,KAAKmC,OAAOwB,aAAaX,YAAc,EACvChD,KAAKmC,OAAOwB,aAAaV,QAEnBb,GACN,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,SACd,MACF,IAAK,SACHpC,KAAKoC,OAAS,UACd,MACF,IAAK,UACHpC,KAAKoC,OAAS,UACd,MACF,IAAK,UACHpC,KAAKoC,OAAS,UACd,MACF,IAAK,UACHpC,KAAKoC,OAAS,UACd,MACF,IAAK,UACHpC,KAAKoC,OAAS,UACd,MACF,IAAK,UACHpC,KAAKoC,OAAS,UACd,MACF,IAAK,UACQ,MAAPhB,EACEwD,GAA8B,IAChC5E,KAAK4E,4BAA8B,GAE5BxD,GAAM,GACfpB,KAAKoB,IAAM,GACFA,GAAM,MACfpB,KAAKoB,IAAM,S,8BAnaEZ,G,goCCqbR6E,E,YAjbb,WAAYC,EAAQnD,GAAQ,a,4FAAA,UAC1B,2BACKmD,OAASA,EACd,EAAKnD,OAASA,EACd,EAAKoD,OAAS,IAAI1B,EAASyB,EAAOE,WAElC,EAAKC,QACL,EAAKC,YACLxF,SAASuE,iBAAiB,UAAW,EAAKH,gBAAgB,GAC1D,EAAKqB,OATqB,E,mSAa1B3F,KAAK2F,KAAO3F,KAAK2F,KAAKpG,KAAKS,MAC3BA,KAAK4F,SAAW5F,KAAK4F,SAASrG,KAAKS,MACnCA,KAAK6F,eAAiB7F,KAAK6F,eAAetG,KAAKS,MAC/CA,KAAKsE,eAAiBtE,KAAKsE,eAAe/E,KAAKS,Q,8BAI/CA,KAAK8F,MAAQ,EACb9F,KAAK+F,KAAO,EACZ/F,KAAKgG,UAAY,EACjBhG,KAAKiG,SAAW,GAEhBjG,KAAKkG,MAAO,EACZlG,KAAKmG,QAAS,EACdnG,KAAKoG,KAAM,EAEXpG,KAAKqG,QAAU,GACfrG,KAAKsG,YAAc,GACnBtG,KAAKuG,WAAa,GAClBvG,KAAKwG,SAAW,GAEhBxG,KAAKyG,W,+BAILzG,KAAK0G,IAAM,EACX1G,KAAK2G,QAAU,EACf3G,KAAK4G,KAAOC,KAAKH,MACjB1G,KAAK8G,YAAc,I,iCAInB9G,KAAK0G,IAAMG,KAAKH,MAChB1G,KAAK2G,QAAU3G,KAAK0G,IAAM1G,KAAK4G,KAC3B5G,KAAK2G,QAAU3G,KAAK8G,cACtB9G,KAAK4G,KAAO5G,KAAK0G,IAAO1G,KAAK2G,QAAU3G,KAAK8G,YAC5C9G,KAAKsF,OAAOyB,WAAWC,SAAQ,SAAAC,GAAK,OAAIA,EAAMtB,a,6BAI3C,WACCxD,EAAWnC,KAAXmC,OAIN,GAHInC,KAAKgG,WAAa,IACpBhG,KAAKkH,UAEFlH,KAAKmG,QAAWnG,KAAKkG,MAASlG,KAAKoG,IAsL5BpG,KAAKkG,MAASlG,KAAKoG,KAOnBpG,KAAKkG,MAAQlG,KAAKoG,KAC5BpG,KAAKkH,UACD/E,EAAOW,MACT9C,KAAKmH,YAELnH,KAAKI,QAAQgH,UAAU,KAAM,IAAK,IAAK,OAGzCpH,KAAKqH,WACDlF,EAAOW,MACT9C,KAAKmH,YAELnH,KAAKI,QAAQgH,UAAU,KAAM,IAAK,IAAK,OAlBzCpH,KAAKsH,YACDnF,EAAOW,MACT9C,KAAKmH,YAELnH,KAAKI,QAAQgH,UAAU,KAAM,IAAK,IAAK,UA3LE,KAEzCnH,EAWED,KAXFC,OACAG,EAUEJ,KAVFI,QACAmF,EASEvF,KATFuF,OACAc,EAQErG,KARFqG,QACAC,EAOEtG,KAPFsG,YACAT,EAME7F,KANF6F,eACAU,EAKEvG,KALFuG,WACAC,EAIExG,KAJFwG,SACAlB,EAGEtF,KAHFsF,OACAnD,EAEEnC,KAFFmC,OACAyD,EACE5F,KADF4F,SA8IF,GA5IAxF,EAAQgH,UAAU,EAAG,EAAGnH,EAAOyB,MAAOzB,EAAOwB,QAC7CmE,IAEIL,EAAOnE,GAAK,EACdmE,EAAOI,QAEP3F,KAAKqH,WACLrH,KAAKkG,MAAO,GAGdlG,KAAKuH,SAELhC,EAAO3C,YAAYoE,SAAQ,SAACQ,EAAYzJ,GACtC,GAAIyJ,GAAcA,EAAW1G,OAAS,EAAG,CACvC,IAAI2G,GAAe,EACnBpB,EAAQW,SAAQ,SAACU,EAAOC,GACtB,GAAID,EACF,GAAI7B,EAAe2B,EAAYE,IAO7B,GANKvF,EAAOW,OAAOX,EAAOsB,OAAOR,OACjCyE,EAAMtG,IAAM,EACZoG,EAAWpG,IAAM,EACboG,EAAWpG,IAAM,IACnBmE,EAAO3C,YAAY7E,GAAK,MAEtB2J,EAAMtG,IAAM,EAAG,CACjB,IAAIwG,EAAY,KAChB,OAAQF,EAAMpJ,MACZ,IAAK,aACHsJ,EAAY,IAAI3G,EACdyG,EAAMxG,KACN,CACEL,KAAM6G,EAAM7G,KACZC,KAAM4G,EAAM5G,KACZF,UAAW,GAEb0E,EAAOuC,cAEJ1F,EAAOW,QACVX,EAAOyB,gBAAgBZ,YAAc,EACrCb,EAAOyB,gBAAgBX,QAEzBsD,EAAWrD,KAAK0E,GAChB,EAAK9B,OAAS,EAKlBO,EAAQsB,GAAK,WAELF,IACVD,EAAW1G,MAAQ0G,EAAW5G,UAC9B4G,EAAW7B,OACX8B,GAAe,WAKrBlC,EAAO3C,YAAY7E,GAAK,QAI5BsI,EAAQW,SAAQ,SAACU,EAAOI,GAClBJ,IACEA,EAAM5G,MAAQ,IAChBuF,EAAQyB,GAAO,MAEfJ,EAAM/B,OAEe,IADFrD,KAAKK,KAAqB,IAAhBL,KAAKE,YAEhCkF,EAAMvC,aACNmB,EAAYpD,KAAKwE,EAAM9E,YAAY8E,EAAM9E,YAAYH,OAAS,UAMtE6D,EAAYU,SAAQ,SAAAQ,GAClB,GAAI3B,EAAe2B,EAAYjC,GAAS,CACtCe,EAAYyB,OAAOzB,EAAY0B,QAAQR,GAAa,GACpDjC,EAAOnE,IAAM,GACb,IAAIwG,EAAY,IAAI3G,EAClB,KACA,CACEJ,KAAM2G,EAAW3G,KAAO,GACxBC,KAAM0G,EAAW1G,KAAO,GACxBF,UAAW,GAEb0E,EAAOuC,cAEJ1F,EAAOW,QACVX,EAAOyB,gBAAgBZ,YAAc,EACrCb,EAAOyB,gBAAgBX,QAEzB,EAAKsD,WAAWrD,KAAK0E,QACZJ,EAAW1G,KAAO,KAC3B0G,EAAW7B,OACX6B,EAAW1G,MAAQ0G,EAAW5G,WAE9B0F,EAAYyB,OAAOzB,EAAY0B,QAAQR,GAAa,MAIxDjB,EAAWS,SAAQ,SAAAY,GACjB,GAAIA,EAAUxG,GAAK,EACjBwG,EAAUjC,OACNiC,EAAUvG,IAAM,KAClBuG,EAAUvG,IAAM,IAEhBuG,EAAUvG,GAAK,EAEbuG,EAAUtG,IAAM,KAClBsG,EAAUtG,IAAM,IAEhBsG,EAAUtG,GAAK,EAEjBsG,EAAUxG,IAAM,OACX,GAAIwG,EAAUxG,IAAM,EAAG,CAC5B,GAAIwG,EAAU1G,KAAM,CAClB,IAAI+G,EAAU,IAAI9E,EAAQmC,EAAO4C,WAAY,EAAKhH,KAAM,CACtDL,KAAM+G,EAAU/G,KAChBC,KAAM8G,EAAU9G,KAChBF,UAAW,IAEb4F,EAAStD,KAAK+E,GAEhB1B,EAAWwB,OAAOxB,EAAWyB,QAAQJ,GAAY,OAIrDpB,EAASQ,SAAQ,SAAAiB,GACXpC,EAAeN,EAAQ0C,IACzB1C,EAAO0C,UACPzB,EAASuB,OAAOvB,EAASwB,QAAQC,GAAU,IAClCA,GAAWA,EAAQnH,KAAO,IACnCmH,EAAQE,cAER3B,EAASuB,OAAOvB,EAASwB,QAAQC,GAAU,MAIxB,IAAnB5B,EAAQ5D,QAAgB4D,EAAQ+B,OAAM,SAAAC,GAAE,OAAW,OAAPA,KAAc,CAC5D,IAAIC,EAAQ,EACZ,OAAQtI,KAAK+F,MACX,KAAK/F,KAAKgG,WAAa,IAAMhG,KAAKgG,UAAY,GAC5CsC,EAAQ,EACR,MACF,KAAKtI,KAAKgG,WAAa,IAAMhG,KAAKgG,UAAY,GAC5CsC,EAAQ,EACR,MACF,KAAKtI,KAAKgG,WAAa,GACrBsC,EAAQ,GACRtI,KAAK+F,MAAQ,GACb,MACF,KAAK/F,KAAK+F,KAAO,GACfuC,EAAQ,GAKZtI,KAAK+F,MAAQ,EACb/F,KAAKgG,WAAa,EAClBhG,KAAKqG,QAAU,EAAIkC,MAAMvI,KAAK+F,MAAMyC,QAAQC,KAC1C,kBACE,IAAIvG,EAAWoD,EAAOoD,cAAevG,EAAQ,CAC3CvB,UAAW0B,KAAKK,KAAKL,KAAKE,SAAW8F,SA0B3CtI,KAAKmC,OAAOW,QAAU9C,KAAKmG,QAC7BnG,KAAKmH,YAEPwB,sBAAsB3I,KAAK2F,Q,+BAI3B3F,KAAK4I,uBACL5I,KAAK6I,SACL7I,KAAK8I,YACL9I,KAAK+I,kB,qCAGQC,EAASC,GACtB,OAAQD,EAAQ1K,MACd,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACH,SAAK0K,IAAYC,GAGfD,EAAQlI,KAAOmI,EAAQnI,KAAOmI,EAAQxH,QACtCuH,EAAQlI,KAAOmI,EAAQnI,MACvBkI,EAAQnI,KAAO,GAAKoI,EAAQpI,MAC5BmI,EAAQnI,KAAOoI,EAAQpI,KAAOoI,EAAQvH,OAO1C,IAAK,YACH,SAAKsH,IAAYC,GAGfD,EAAQlI,KAAOmI,EAAQvE,EAAIuE,EAAQxH,QACnCuH,EAAQlI,KAAOmI,EAAQvE,GACvBsE,EAAQnI,KAAO,GAAKoI,EAAQpG,GAC5BmG,EAAQnI,KAAOoI,EAAQpG,EAAIoG,EAAQvH,OAOvC,IAAK,SACH,SAAKsH,IAAYC,GAGfD,EAAQtE,EAAIuE,EAAQnI,KAAOmI,EAAQxH,QACnCuH,EAAQtE,EAAIsE,EAAQvH,OAASwH,EAAQnI,MACrCkI,EAAQnG,EAAImG,EAAQtH,MAAQuH,EAAQpI,MACpCmI,EAAQnG,EAAIoG,EAAQpI,KAAOoI,EAAQvH,U,qCAS5BmD,GAAG,IACV1C,EAA4CnC,KAA5CmC,OAAQ7B,EAAoCN,KAApCM,cAAeC,EAAqBP,KAArBO,iBAC7BsE,EAAEE,iBACW,KAATF,EAAEvF,KAAuB,KAATuF,EAAEvF,KACpBU,KAAKuF,OAAS,IAAI1B,EAAS7D,KAAKsF,OAAOE,WACvCxF,KAAKyF,SACa,KAATZ,EAAEvF,KAAuB,KAATuF,EAAEvF,IAC3BU,KAAKmG,QAAUnG,KAAKmG,OACF,KAATtB,EAAEvF,KAAuB,KAATuF,EAAEvF,MACvB6C,EAAOW,OACTxC,EAAc4I,UAAUC,OAAO,UAC/B5I,EAAiB2I,UAAUC,OAAO,UAClChH,EAAOkB,gBAAgBJ,OACvBjD,KAAKmC,OAAOW,OAAQ,IAEpBvC,EAAiB2I,UAAUC,OAAO,UAClC7I,EAAc4I,UAAUC,OAAO,UAC/BhH,EAAOkB,gBAAgB+F,QACvBpJ,KAAKmC,OAAOW,OAAQ,M,kCAKd,IACJ1C,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,kBACfjJ,EAAQkJ,UAAY,MACpBlJ,EAAQmJ,SAAS,2BAA4B,IAAK,M,+BAG3C,IACDnJ,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,kBACfjJ,EAAQkJ,UAAY,MACpBlJ,EAAQmJ,SAAS,OAASvJ,KAAKuF,OAAOnE,GAAI,GAAI,M,6CAGzB,IACfhB,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,kBACfjJ,EAAQkJ,UAAY,QACpBlJ,EAAQmJ,SACN,mBAAqBvJ,KAAKuF,OAAOX,2BACjC,GACA,M,sCAIY,IACRxE,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,kBACfjJ,EAAQkJ,UAAY,QACpBlJ,EAAQmJ,SACN,qBAAuBvJ,KAAKiG,SAAWjG,KAAKgG,WAC5C,GACA,M,kCAIQ,IACJ5F,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,kBACfjJ,EAAQkJ,UAAY,QACpBlJ,EAAQmJ,SAAS,UAAYvJ,KAAK8F,MAAO,IAAK,M,gCAGtC,IACF1F,EAAYJ,KAAZI,QACNJ,KAAKoG,KAAM,EACXhG,EAAQiJ,KAAO,kBACfjJ,EAAQkJ,UAAY,QACpBlJ,EAAQmJ,SAAS,WAAY,IAAK,KAClCnJ,EAAQiJ,KAAO,kBACfjJ,EAAQmJ,SAAS,iCAAkC,IAAK,KACxDnJ,EAAQiJ,KAAO,kBACfjJ,EAAQmJ,SAAS,wBAA0BvJ,KAAK8F,MAAO,IAAK,KAC5D1F,EAAQiJ,KAAO,kBACfjJ,EAAQmJ,SAAS,qBAAsB,IAAK,O,iCAGnC,IACHnJ,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,mBACfjJ,EAAQkJ,UAAY,MACpBlJ,EAAQmJ,SAAS,YAAa,GAAI,KAClCnJ,EAAQiJ,KAAO,kBACfjJ,EAAQmJ,SAAS,wBAA0BvJ,KAAK8F,MAAO,IAAK,KAC5D1F,EAAQiJ,KAAO,kBACfjJ,EAAQmJ,SAAS,qBAAsB,IAAK,O,kCAGlC,IACJnJ,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,cACfjJ,EAAQkJ,UAAY,QACpBlJ,EAAQmJ,SAAS,SAAU,IAAK,KAChCnJ,EAAQiJ,KAAO,kBACfjJ,EAAQmJ,SAAS,wBAAyB,IAAK,O,kCAGrC,IACJnJ,EAAYJ,KAAZI,QACNA,EAAQiJ,KAAO,cACfjJ,EAAQkJ,UAAY,MACpBlJ,EAAQmJ,SAAS,QAAS,IAAK,U,8BA9ahBxJ,G,2yBCmBJyJ,G,YAxBb,WAAYvJ,EAAQwJ,EAAQhJ,GAAO,a,4FAAA,UACjC,wBAAMA,KACDR,OAASA,EACd,EAAKA,OAAOyB,MAAQ,IACpB,EAAKzB,OAAOwB,OAAS,IACrB,EAAKrB,QAAU,EAAKH,OAAOI,WAAW,MACtC,EAAKc,IAAM,IAAIa,MACf,EAAKb,IAAIc,IAAT,UAAkBwH,GAPe,E,8RAU5B,IACCxJ,EAA0CD,KAA1CC,OAAQG,EAAkCJ,KAAlCI,QAASe,EAAyBnB,KAAzBmB,IAAKL,EAAoBd,KAApBc,KAAMF,EAAcZ,KAAdY,UAClCZ,KAAKc,MAAQF,EACbR,EAAQgH,UAAU,EAAG,EAAG,IAAK,KAC7BhH,EAAQwB,UAAUT,EAAK,GAAI,IAAML,GACjCV,EAAQwB,UAAUT,EAAK,EAAGL,GACtBA,GAAQb,EAAOwB,OACjBzB,KAAKc,KAAO,EACHA,GAAQ,MACjBd,KAAKc,KAAO,Q,8BApBYN,GC8CfkJ,OARf,WAEE,IADA,IAAIC,EAAS,GACJ5L,EAAI,EAAGA,EAAI,EAAGA,IACrB4L,EAAOzG,KAAKnF,GAEd,OAAO4L,EAAOlB,KAAI,SAAA1K,GAAC,OAzCrB,SAAmBA,GACjB,IAAI6L,EAAI,CAAEhJ,UAAW,GAErB,OAAQ7C,GACN,KAAK,EACH6L,EAAC,UAAgB,GACjB,MACF,KAAK,EACHA,EAAC,UAAgB,GACjB,MACF,KAAK,EACHA,EAAC,UAAgB,GACjB,MACF,KAAK,EACHA,EAAC,UAAgB,EACjB,MACF,KAAK,EACHA,EAAC,UAAgB,IACjB,MACF,KAAK,EACHA,EAAC,UAAgB,GACjB,MACF,KAAK,EACHA,EAAC,UAAgB,GACjB,MACF,KAAK,EACHA,EAAC,UAAgB,EAGrB,OAAO,IAAIJ,GACTtJ,SAASC,eAAe,IAAMpC,GAhCtB,kCAiCFA,EAAI,OACV6L,GASqBC,CAAU9L,O,ICvBpB+L,GAlBb,c,4FAAc,SACZ9J,KAAK+G,WAAa2C,KAElB1J,KAAK0I,cAAgB,IAAI1G,MACzBhC,KAAK0I,cAAczG,IAAM,gCAEzBjC,KAAKwF,UAAY,IAAIxD,MACrBhC,KAAKwF,UAAUvD,IAAM,yBAErBjC,KAAKkI,WAAa,IAAIlG,MACtBhC,KAAKkI,WAAWjG,IAAM,sCAEtBjC,KAAK6H,aAAe,IAAI7F,MACxBhC,KAAK6H,aAAa5F,IAChB,sD,UCbN/B,SAASuE,iBAAiB,oBAAoB,WAC5C,IAAIsF,EAAMzE,EAAQnD,EAClBmD,EAAS,IAAIwE,GACb3H,EAAS6H,EAAeC,aACxB9H,EAAS6H,EACT1E,EAAOE,UAAUpC,OAAS,WACxB,IAAInD,EAASC,SAASC,eAAe,eACrCF,EAAOyB,MAAQ1B,KAAKkK,aACpBjK,EAAOwB,OAASzB,KAAKmK,cACrBJ,EAAO,IAAI1E,EAAKC,EAAQnD,IAG1B,IAAIiI,EAAyBlK,SAASC,eACpC,kCAEEkK,EAA8BnK,SAASC,eACzC,iCAEEmK,EAA2BpK,SAASC,eACtC,8BAGFkK,EAA4B5F,iBAAiB,SAAS,WACpD4F,EAA4BnB,UAAUC,OAAO,UAC7CmB,EAAyBpB,UAAUC,OAAO,aAG5CiB,EAAuB3F,iBAAiB,SAAS,WAC/CsF,EAAK5D,QAAS,EACdkE,EAA4BnB,UAAUC,OAAO,UAC7CmB,EAAyBpB,UAAUC,OAAO,aAG5C,IAAI7I,EAAgBJ,SAASC,eAAe,SACxCI,EAAmBL,SAASC,eAAe,YAE/CG,EAAcmE,iBAAiB,SAAS,WACtCnE,EAAc4I,UAAUC,OAAO,UAC/B5I,EAAiB2I,UAAUC,OAAO,UAClC,GAAKhH,OAAOW,OAAQ,EACpByH,QAAQnB,WAGV7I,EAAiBkE,iBAAiB,SAAS,WACzCnE,EAAc4I,UAAUC,OAAO,UAC/B5I,EAAiB2I,UAAUC,OAAO,UAClC,GAAKhH,OAAOW,OAAQ,EACpBX,EAAOkB,gBAAgBJ","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","class GameCanvas {\n  constructor() {\n    this.canvas = document.getElementById(\"game-canvas\");\n    this.context = this.canvas.getContext(\"2d\");\n    this.playingStatus = document.getElementById(\"sound\");\n    this.notPlayingStatus = document.getElementById(\"no-sound\");\n  }\n}\n\nexport default GameCanvas;\n","import GameCanvas from \"./game_canvas\";\n\nclass MovingObject extends GameCanvas {\n  constructor(props = {}) {\n    super();\n    let defaults = {\n      velocityX: 0,\n      velocityY: 0,\n      posX: 0,\n      posY: 0\n    };\n    const settings = Object.assign({}, defaults, props);\n    this.velocityX = settings.velocityX;\n    this.velocityY = settings.velocityY;\n    this.posX = settings.posX;\n    this.posY = settings.posY;\n  }\n}\n\nexport default MovingObject;\n","import MovingObject from \"./moving_object\";\nclass Explosion extends MovingObject {\n  constructor(loot, props, img) {\n    super(props);\n    this.name = \"explosion\";\n    this.hp = 64;\n    this.img = img;\n    this.sX = 0;\n    this.sY = 0;\n    this.sWidth = 512;\n    this.sHeight = 512;\n    this.height = 50;\n    this.width = 80;\n    this.scale = 5;\n    this.loot = loot;\n  }\n\n  draw() {\n    let {\n      context,\n      img,\n      sX,\n      sY,\n      sWidth,\n      sHeight,\n      posX,\n      posY,\n      height,\n      width,\n      scale\n    } = this;\n\n    if (this.hp > 0) {\n      context.drawImage(\n        img,\n        sX,\n        sY,\n        sWidth,\n        sHeight,\n        posX - 170,\n        posY - 100,\n        width * scale,\n        height * scale\n      );\n    }\n  }\n}\nexport default Explosion;\n","import MovingObject from \"./moving_object\";\n\nclass PlayerWeapon extends MovingObject {\n  constructor(name, props) {\n    super(props);\n    this.status = \"active\";\n    this.name = name;\n    this.canvas = document.getElementById(\"game-canvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.img = new Image();\n    let { img } = this;\n    switch (name) {\n      case \"red-laser\":\n        img.src = \"./src/images/weapons/red_laser.png\";\n        this.hp = 1;\n        break;\n      case \"laser1\": // light blue\n        img.src = \"./src/images/weapons/laser1.png\";\n        this.hp = 2;\n        break;\n      case \"laser2\": // yellow\n        img.src = \"./src/images/weapons/laser2.png\";\n        this.hp = 4;\n        break;\n      case \"laser3\": // purple\n        img.src = \"./src/images/weapons/laser3.png\";\n        this.hp = 8;\n        break;\n      case \"laser4\": // blue\n        img.src = \"./src/images/weapons/laser4.png\";\n        this.hp = 16;\n        break;\n      case \"laser5\": // green\n        img.src = \"./src/images/weapons/laser5.png\";\n        this.hp = 32;\n        break;\n      default:\n        break;\n    }\n  }\n\n  draw() {\n    let { ctx, img, posX, posY, velocityY } = this;\n    posY += velocityY;\n    ctx.drawImage(img, posX, posY);\n  }\n}\n\nexport default PlayerWeapon;\n","import PlayerWeapon from \"./player_weapon\";\nimport MovingObject from \"./moving_object\";\n\nclass TieFighter extends MovingObject {\n  constructor(img, sounds, props) {\n    super(props);\n\n    this.canvas = document.getElementById(\"game-canvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.sounds = sounds;\n    this.name = \"TieFighter\";\n    this.weapon = \"red-laser\";\n    this.hp = 5;\n    this.loot = [{ name: \"upgrade\", droprate: 0.04 }];\n    this.loot = this.loot[Math.floor(Math.random() * this.loot.length)];\n    let rand = Math.ceil(Math.random() * 100);\n    if (this.loot[\"droprate\"] * 100 > rand) {\n      this.loot = this.loot[\"name\"];\n    } else {\n      this.loot = null;\n    }\n    this.img = img;\n    this.posX = Math.floor(Math.random() * 731);\n    this.posY = Math.floor(Math.random() * -800);\n    this.height = 40;\n    this.width = 80;\n    this.projectiles = [];\n  }\n\n  draw() {\n    let { ctx, img, posX, posY, velocityY, height, width } = this;\n    ctx.drawImage(img, posX, posY, width, height);\n    this.posY += velocityY;\n  }\n\n  fireWeapon() {\n    if (!this.sounds.muted) {\n      this.sounds.enemyLaserSound.currentTime = 0;\n      this.sounds.enemyLaserSound.play();\n    }\n    let x;\n    switch (this.weapon) {\n      case \"red-laser\":\n        x = new PlayerWeapon(\"red-laser\", {\n          velocityY: 5,\n          posX: Math.floor(this.posX + 48),\n          posY: Math.floor(this.posY - 10)\n        });\n        this.projectiles.push(x);\n        break;\n      default:\n        break;\n    }\n  }\n}\nexport default TieFighter;\n","import MovingObject from \"./moving_object\";\n\nclass Upgrade extends MovingObject {\n  constructor(img, loot, props) {\n    super(props);\n    this.name = \"upgrade\";\n    this.img = img;\n    this.height = 20;\n    this.width = 30;\n    this.loot = loot;\n  }\n\n  drawUpgrade() {\n    let { context, img, posX, posY, velocityY, height, width } = this;\n    context.drawImage(img, posX, posY, width, height);\n    this.posY += velocityY;\n    img.onload = function() {\n      context.drawImage(img, posX, posY, width, height);\n    };\n  }\n}\nexport default Upgrade;\n","class Sounds {\n  initialize() {\n    this.muted = true;\n    this.backgroundMusic = new Audio(\"./src/sounds/sw.mp3\");\n    this.backgroundMusic.volume = 0.1;\n    this.backgroundMusic.loop = true;\n\n    this.impact = new Audio(\"./src/sounds/impact.mp3\");\n    this.laserSound = new Audio(\"./src/sounds/Digital_SFX_Set/laser1.mp3\");\n    this.enemyLaserSound = new Audio(\"./src/sounds/tie_fire_laser.mp3\");\n    this.upgradeSound = new Audio(\"./src/sounds/upgrade_complete.mp3\");\n    this.tieExplodeSound = new Audio(\"./src/sounds/tie_explode_short.mp3\");\n    this.tieExplodeSound.volume = 0.1;\n  }\n}\n\nexport default new Sounds();\n","import PlayerWeapon from \"./player_weapon\";\nimport MovingObject from \"./moving_object\";\nimport Sounds from \"./sounds\";\n\nclass XFighter extends MovingObject {\n  constructor(img) {\n    super();\n    this.name = \"player\";\n    this.weapon = \"laser1\";\n    this.img = img;\n    this.restart();\n    this.sounds = Sounds;\n    this.spacePressed = false;\n    this.upPressed = false;\n    this.downPressed = false;\n    this.rightPressed = false;\n    this.leftPressed = false;\n    this.keyUpHandler = this.keyUpHandler.bind(this);\n    this.keyDownHandler = this.keyDownHandler.bind(this);\n    this.touchHandler = this.touchHandler.bind(this);\n    this.touchEndHandler = this.touchEndHandler.bind(this);\n    document.addEventListener(\"keyup\", this.keyUpHandler, false);\n    document.addEventListener(\"keydown\", this.keyDownHandler, false);\n    document.addEventListener(\"touchstart\", this.touchHandler);\n    document.addEventListener(\"touchend\", this.touchEndHandler);\n    document.addEventListener(\"touchmove\", this.touchHandler);\n  }\n\n  restart() {\n    this.hp = 100;\n    this.height = 100;\n    this.width = 100;\n    this.x = 400;\n    this.y = 765;\n    this.projectiles = [];\n    this.projectileCoolDown = 0;\n    this.projectileCoolDownConstant = 10;\n  }\n\n  keyUpHandler(e) {\n    if (e.code == \"Space\" || e.key == \"Space\") {\n      this.spacePressed = false;\n    }\n    if (e.key == \"Right\" || e.key == \"ArrowRight\") {\n      this.rightPressed = false;\n    }\n    if (e.key == \"Left\" || e.key == \"ArrowLeft\") {\n      this.leftPressed = false;\n    }\n    if (e.key == \"Up\" || e.key == \"ArrowUp\") {\n      this.upPressed = false;\n    }\n    if (e.key == \"Down\" || e.key == \"ArrowDown\") {\n      this.downPressed = false;\n    }\n  }\n\n  keyDownHandler(e) {\n    e.preventDefault();\n    if (e.code == \"Space\") {\n      this.spacePressed = true;\n    }\n    if (e.key == \"Right\" || e.key == \"ArrowRight\") {\n      this.rightPressed = true;\n    }\n    if (e.key == \"Left\" || e.key == \"ArrowLeft\") {\n      this.leftPressed = true;\n    }\n    if (e.key == \"Up\" || e.key == \"ArrowUp\") {\n      this.upPressed = true;\n    }\n    if (e.key == \"Down\" || e.key == \"ArrowDown\") {\n      this.downPressed = true;\n    }\n  }\n\n  touchHandler(e) {\n    if (e.touches) {\n      this.spacePressed = true;\n      if (e.touches[0].pageX * 2.32 < this.x) {\n        this.leftPressed = true;\n      } else {\n        this.rightPressed = true;\n      }\n      if (e.touches[0].pageY * 1.45 < this.y) {\n        this.upPressed = true;\n      } else {\n        this.downPressed = true;\n      }\n    }\n    e.preventDefault();\n  }\n\n  touchEndHandler(e) {\n    e.preventDefault();\n    this.leftPressed = false;\n    this.rightPressed = false;\n    this.upPressed = false;\n    this.downPressed = false;\n    this.spacePressed = false;\n  }\n\n  draw() {\n    const { context, x, y, height, width } = this;\n    if (this.spacePressed) {\n      this.fireWeapon();\n    }\n    if (this.leftPressed) {\n      if (this.x > 0) {\n        this.x -= 15;\n      } else {\n        this.x = 750;\n      }\n    }\n    if (this.rightPressed) {\n      if (this.x < 700) {\n        this.x += 15;\n      } else {\n        this.x = -50;\n      }\n    }\n    if (this.upPressed) {\n      if (this.y > 0) {\n        this.y -= 10;\n      }\n    }\n    if (this.downPressed) {\n      if (this.y < 755) {\n        this.y += 10;\n      }\n    }\n    context.drawImage(this.img, x, y, height, width);\n  }\n\n  fireWeapon() {\n    let x, y, z;\n    if (this.projectileCoolDown <= 0) {\n      this.projectileCoolDown += this.projectileCoolDownConstant;\n      if (!this.sounds.muted) {\n        this.sounds.laserSound.currentTime = 0;\n        this.sounds.laserSound.play();\n      }\n      switch (this.weapon) {\n        // level 1 laser light blue\n        case \"laser1\":\n          x = new PlayerWeapon(\"laser1\", {\n            velocityY: -10,\n            posX: this.x + 43,\n            posY: this.y - 1\n          });\n          this.projectiles.push(x);\n          break;\n        case \"laser2\":\n          x = new PlayerWeapon(\"laser1\", {\n            velocityY: -10,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser1\", {\n            velocityY: -10,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          break;\n        case \"laser3\":\n          x = new PlayerWeapon(\"laser1\", {\n            velocityY: -10,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser1\", {\n            velocityY: -10,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          z = new PlayerWeapon(\"laser1\", {\n            velocityY: -10,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          this.projectiles.push(z);\n          break;\n        // level 2 laser yellow\n        case \"laser4\":\n          x = new PlayerWeapon(\"laser2\", {\n            velocityY: -8,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          break;\n        case \"laser5\":\n          x = new PlayerWeapon(\"laser2\", {\n            velocityY: -8,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser2\", {\n            velocityY: -8,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          break;\n        case \"laser6\":\n          x = new PlayerWeapon(\"laser2\", {\n            velocityY: -8,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser2\", {\n            velocityY: -8,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          z = new PlayerWeapon(\"laser2\", {\n            velocityY: -8,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          this.projectiles.push(z);\n          break;\n        // level 3 laser purple\n        case \"laser7\":\n          x = new PlayerWeapon(\"laser3\", {\n            velocityY: -6,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          break;\n        case \"laser8\":\n          x = new PlayerWeapon(\"laser3\", {\n            velocityY: -6,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser3\", {\n            velocityY: -6,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          break;\n        case \"laser9\":\n          x = new PlayerWeapon(\"laser3\", {\n            velocityY: -6,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser3\", {\n            velocityY: -6,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          z = new PlayerWeapon(\"laser3\", {\n            velocityY: -6,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          this.projectiles.push(z);\n          break;\n        // level 4 laser blue\n        case \"laser10\":\n          x = new PlayerWeapon(\"laser4\", {\n            velocityY: -4,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          break;\n        case \"laser11\":\n          x = new PlayerWeapon(\"laser4\", {\n            velocityY: -4,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser4\", {\n            velocityY: -4,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          break;\n        case \"laser12\":\n          x = new PlayerWeapon(\"laser4\", {\n            velocityY: -4,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser4\", {\n            velocityY: -4,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          z = new PlayerWeapon(\"laser4\", {\n            velocityY: -4,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          this.projectiles.push(z);\n          break;\n        // level 5 laser green\n        case \"laser13\":\n          x = new PlayerWeapon(\"laser5\", {\n            velocityY: -2,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          break;\n        case \"laser14\":\n          x = new PlayerWeapon(\"laser5\", {\n            velocityY: -2,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser5\", {\n            velocityY: -2,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          break;\n        case \"laser15\":\n          x = new PlayerWeapon(\"laser5\", {\n            velocityY: -2,\n            posX: this.x,\n            posY: this.y - 10\n          });\n          y = new PlayerWeapon(\"laser5\", {\n            velocityY: -2,\n            posX: this.x + 43,\n            posY: this.y - 10\n          });\n          z = new PlayerWeapon(\"laser5\", {\n            velocityY: -2,\n            posX: this.x + 90,\n            posY: this.y - 10\n          });\n          this.projectiles.push(x);\n          this.projectiles.push(y);\n          this.projectiles.push(z);\n          break;\n        default:\n          break;\n      }\n    } else {\n      this.projectileCoolDown -= 1;\n    }\n  }\n\n  upgrade() {\n    let { weapon, hp, projectileCoolDownConstant } = this;\n    if (!this.sounds.muted) {\n      this.sounds.upgradeSound.currentTime = 0;\n      this.sounds.upgradeSound.play();\n    }\n    switch (weapon) {\n      case \"laser1\":\n        this.weapon = \"laser2\";\n        break;\n      case \"laser2\":\n        this.weapon = \"laser3\";\n        break;\n      case \"laser3\":\n        this.weapon = \"laser4\";\n        break;\n      case \"laser4\":\n        this.weapon = \"laser5\";\n        break;\n      case \"laser5\":\n        this.weapon = \"laser6\";\n        break;\n      case \"laser6\":\n        this.weapon = \"laser7\";\n        break;\n      case \"laser7\":\n        this.weapon = \"laser8\";\n        break;\n      case \"laser8\":\n        this.weapon = \"laser9\";\n        break;\n      case \"laser9\":\n        this.weapon = \"laser10\";\n        break;\n      case \"laser10\":\n        this.weapon = \"laser11\";\n        break;\n      case \"laser11\":\n        this.weapon = \"laser12\";\n        break;\n      case \"laser12\":\n        this.weapon = \"laser13\";\n        break;\n      case \"laser13\":\n        this.weapon = \"laser14\";\n        break;\n      case \"laser14\":\n        this.weapon = \"laser15\";\n        break;\n      case \"laser15\":\n        if (hp === 100) {\n          if (projectileCoolDownConstant >= 5) {\n            this.projectileCoolDownConstant -= 1;\n          }\n        } else if (hp <= 90) {\n          this.hp += 10;\n        } else if (hp <= 100) {\n          this.hp += 1;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n}\nexport default XFighter;\n","import Explosion from \"./explosion\";\nimport GameCanvas from \"./game_canvas\";\nimport TieFighter from \"./tie_fighter\";\nimport Upgrade from \"./upgrade\";\nimport XFighter from \"./x_fighter\";\nimport Sounds from \"./sounds\";\n\nclass Game extends GameCanvas {\n  constructor(images, sounds) {\n    super();\n    this.images = images;\n    this.sounds = sounds;\n    this.player = new XFighter(images.playerImg);\n\n    this.reset();\n    this.bindStuff();\n    document.addEventListener(\"keydown\", this.keyDownHandler, false);\n    this.draw();\n  }\n\n  bindStuff() {\n    this.draw = this.draw.bind(this);\n    this.checkFPS = this.checkFPS.bind(this);\n    this.checkCollision = this.checkCollision.bind(this);\n    this.keyDownHandler = this.keyDownHandler.bind(this);\n  }\n\n  reset() {\n    this.score = 0;\n    this.wave = 0;\n    this.waveCount = 0;\n    this.lastWave = 30;\n\n    this.lost = false;\n    this.paused = false;\n    this.won = false;\n\n    this.enemies = [];\n    this.enemyLasers = [];\n    this.explosions = [];\n    this.upgrades = [];\n\n    this.setFPS();\n  }\n\n  setFPS() {\n    this.now = 0;\n    this.elapsed = 0;\n    this.then = Date.now();\n    this.fpsInterval = 1;\n  }\n\n  checkFPS() {\n    this.now = Date.now();\n    this.elapsed = this.now - this.then;\n    if (this.elapsed > this.fpsInterval) {\n      this.then = this.now - (this.elapsed % this.fpsInterval);\n      this.images.background.forEach(layer => layer.draw());\n    }\n  }\n\n  draw() {\n    let { sounds } = this;\n    if (this.waveCount >= 30) {\n      this.drawWin();\n    }\n    if (!this.paused && !this.lost && !this.won) {\n      let {\n        canvas,\n        context,\n        player,\n        enemies,\n        enemyLasers,\n        checkCollision,\n        explosions,\n        upgrades,\n        images,\n        sounds,\n        checkFPS\n      } = this;\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      checkFPS();\n\n      if (player.hp > 0) {\n        player.draw();\n      } else {\n        this.drawLose();\n        this.lost = true;\n      }\n\n      this.drawUI();\n\n      player.projectiles.forEach((projectile, i) => {\n        if (projectile && projectile.posY >= -5) {\n          let alreadyDrawn = false;\n          enemies.forEach((enemy, j) => {\n            if (enemy) {\n              if (checkCollision(projectile, enemy)) {\n                if (!sounds.muted) sounds.impact.play();\n                enemy.hp -= 1;\n                projectile.hp -= 1;\n                if (projectile.hp <= 0) {\n                  player.projectiles[i] = null;\n                }\n                if (enemy.hp <= 0) {\n                  let explosion = null;\n                  switch (enemy.name) {\n                    case \"TieFighter\":\n                      explosion = new Explosion(\n                        enemy.loot,\n                        {\n                          posX: enemy.posX,\n                          posY: enemy.posY,\n                          velocityY: 1\n                        },\n                        images.explosionImg\n                      );\n                      if (!sounds.muted) {\n                        sounds.tieExplodeSound.currentTime = 0;\n                        sounds.tieExplodeSound.play();\n                      }\n                      explosions.push(explosion);\n                      this.score += 1;\n                      break;\n                    default:\n                      break;\n                  }\n                  enemies[j] = null;\n                }\n              } else if (!alreadyDrawn) {\n                projectile.posY += projectile.velocityY;\n                projectile.draw();\n                alreadyDrawn = true;\n              }\n            }\n          });\n        } else {\n          player.projectiles[i] = null;\n        }\n      });\n\n      enemies.forEach((enemy, idx) => {\n        if (enemy) {\n          if (enemy.posY >= 850) {\n            enemies[idx] = null;\n          } else {\n            enemy.draw();\n            let randomNumber = Math.ceil(Math.random() * 1000);\n            if (randomNumber === 1) {\n              enemy.fireWeapon();\n              enemyLasers.push(enemy.projectiles[enemy.projectiles.length - 1]);\n            }\n          }\n        }\n      });\n\n      enemyLasers.forEach(projectile => {\n        if (checkCollision(projectile, player)) {\n          enemyLasers.splice(enemyLasers.indexOf(projectile), 1);\n          player.hp -= 10;\n          let explosion = new Explosion(\n            null,\n            {\n              posX: projectile.posX - 20,\n              posY: projectile.posY - 10,\n              velocityY: 1\n            },\n            images.explosionImg\n          );\n          if (!sounds.muted) {\n            sounds.tieExplodeSound.currentTime = 0;\n            sounds.tieExplodeSound.play();\n          }\n          this.explosions.push(explosion);\n        } else if (projectile.posY < 850) {\n          projectile.draw();\n          projectile.posY += projectile.velocityY;\n        } else {\n          enemyLasers.splice(enemyLasers.indexOf(projectile), 1);\n        }\n      });\n\n      explosions.forEach(explosion => {\n        if (explosion.hp > 0) {\n          explosion.draw();\n          if (explosion.sX <= 3584) {\n            explosion.sX += 512;\n          } else {\n            explosion.sX = 0;\n          }\n          if (explosion.sY <= 3584) {\n            explosion.sY += 512;\n          } else {\n            explosion.sY = 0;\n          }\n          explosion.hp -= 1;\n        } else if (explosion.hp <= 0) {\n          if (explosion.loot) {\n            let upgrade = new Upgrade(images.upgradeImg, this.loot, {\n              posX: explosion.posX,\n              posY: explosion.posY,\n              velocityY: 1\n            });\n            upgrades.push(upgrade);\n          }\n          explosions.splice(explosions.indexOf(explosion), 1);\n        }\n      });\n\n      upgrades.forEach(upgrade => {\n        if (checkCollision(player, upgrade)) {\n          player.upgrade();\n          upgrades.splice(upgrades.indexOf(upgrade), 1);\n        } else if (upgrade && upgrade.posY < 850) {\n          upgrade.drawUpgrade();\n        } else {\n          upgrades.splice(upgrades.indexOf(upgrade), 1);\n        }\n      });\n\n      if (enemies.length === 0 || enemies.every(el => el === null)) {\n        let speed = 3;\n        switch (this.wave) {\n          case this.waveCount >= 10 && this.waveCount < 20:\n            speed = 5;\n            break;\n          case this.waveCount >= 20 && this.waveCount < 29:\n            speed = 6;\n            break;\n          case this.waveCount >= 29:\n            speed = 20;\n            this.wave += 20;\n            break;\n          case this.wave > 50:\n            speed = 10;\n            break;\n          default:\n            break;\n        }\n        this.wave += 5;\n        this.waveCount += 1;\n        this.enemies = [...Array(this.wave).keys()].map(\n          () =>\n            new TieFighter(images.tieFighterImg, sounds, {\n              velocityY: Math.ceil(Math.random() * speed)\n            })\n        );\n      }\n    } else if (!this.lost && !this.won) {\n      this.drawPause();\n      if (sounds.muted) {\n        this.drawMuted();\n      } else {\n        this.context.clearRect(300, -100, 550, 150);\n      }\n    } else if (!this.lost && this.won) {\n      this.drawWin();\n      if (sounds.muted) {\n        this.drawMuted();\n      } else {\n        this.context.clearRect(300, -100, 550, 150);\n      }\n    } else {\n      this.drawLose();\n      if (sounds.muted) {\n        this.drawMuted();\n      } else {\n        this.context.clearRect(300, -100, 550, 150);\n      }\n    }\n    if (this.sounds.muted && !this.paused) {\n      this.drawMuted();\n    }\n    requestAnimationFrame(this.draw);\n  }\n\n  drawUI() {\n    this.drawCoolDownConstant();\n    this.drawHP();\n    this.drawScore();\n    this.drawWavesLeft();\n  }\n\n  checkCollision(object1, object2) {\n    switch (object1.name) {\n      case \"laser1\":\n      case \"laser2\":\n      case \"laser3\":\n      case \"laser4\":\n      case \"laser5\":\n        if (!object1 || !object2) {\n          return false;\n        } else if (\n          object1.posY > object2.posY + object2.height ||\n          object1.posY < object2.posY ||\n          object1.posX + 10 < object2.posX ||\n          object1.posX > object2.posX + object2.width\n        ) {\n          return false;\n        } else {\n          return true;\n        }\n\n      case \"red-laser\":\n        if (!object1 || !object2) {\n          return false;\n        } else if (\n          object1.posY > object2.y + object2.height ||\n          object1.posY < object2.y ||\n          object1.posX + 10 < object2.x ||\n          object1.posX > object2.x + object2.width\n        ) {\n          return false;\n        } else {\n          return true;\n        }\n\n      case \"player\":\n        if (!object1 || !object2) {\n          return false;\n        } else if (\n          object1.y > object2.posY + object2.height ||\n          object1.y + object1.height < object2.posY ||\n          object1.x + object1.width < object2.posX ||\n          object1.x > object2.posX + object2.width\n        ) {\n          return false;\n        } else {\n          return true;\n        }\n    }\n  }\n\n  keyDownHandler(e) {\n    let { sounds, playingStatus, notPlayingStatus } = this;\n    e.preventDefault();\n    if (e.key == \"r\" || e.key == \"R\") {\n      this.player = new XFighter(this.images.playerImg);\n      this.reset();\n    } else if (e.key == \"p\" || e.key == \"P\") {\n      this.paused = !this.paused;\n    } else if (e.key == \"m\" || e.key == \"M\") {\n      if (sounds.muted) {\n        playingStatus.classList.toggle(\"hidden\");\n        notPlayingStatus.classList.toggle(\"hidden\");\n        sounds.backgroundMusic.play();\n        this.sounds.muted = false;\n      } else {\n        notPlayingStatus.classList.toggle(\"hidden\");\n        playingStatus.classList.toggle(\"hidden\");\n        sounds.backgroundMusic.pause();\n        this.sounds.muted = true;\n      }\n    }\n  }\n\n  drawMuted() {\n    let { context } = this;\n    context.font = \"bold 30px Arial\";\n    context.fillStyle = \"red\";\n    context.fillText(\"MUTED! PRESS M TO UNMUTE\", 388, 30);\n  }\n\n  drawHP() {\n    let { context } = this;\n    context.font = \"bold 30px Arial\";\n    context.fillStyle = \"red\";\n    context.fillText(\"HP: \" + this.player.hp, 10, 30);\n  }\n\n  drawCoolDownConstant() {\n    let { context } = this;\n    context.font = \"bold 20px Arial\";\n    context.fillStyle = \"white\";\n    context.fillText(\n      \"Laser Cooldown: \" + this.player.projectileCoolDownConstant,\n      10,\n      60\n    );\n  }\n\n  drawWavesLeft() {\n    let { context } = this;\n    context.font = \"bold 20px Arial\";\n    context.fillStyle = \"white\";\n    context.fillText(\n      \"Waves Remaining: \" + (this.lastWave - this.waveCount),\n      10,\n      80\n    );\n  }\n\n  drawScore() {\n    let { context } = this;\n    context.font = \"bold 30px Arial\";\n    context.fillStyle = \"white\";\n    context.fillText(\"Score: \" + this.score, 130, 30);\n  }\n\n  drawWin() {\n    let { context } = this;\n    this.won = true;\n    context.font = \"bold 80px Arial\";\n    context.fillStyle = \"green\";\n    context.fillText(\"YOU WIN!\", 230, 280);\n    context.font = \"bold 30px Arial\";\n    context.fillText(\"THE FORCE IS STRONG WITHIN YOU\", 150, 330);\n    context.font = \"bold 50px Arial\";\n    context.fillText(\"Your final score is: \" + this.score, 155, 410);\n    context.font = \"bold 50px Arial\";\n    context.fillText(\"PRESS R TO RESTART\", 150, 470);\n  }\n\n  drawLose() {\n    let { context } = this;\n    context.font = \"bold 130px Arial\";\n    context.fillStyle = \"red\";\n    context.fillText(\"GAME OVER\", 10, 250);\n    context.font = \"bold 50px Arial\";\n    context.fillText(\"Your final score is: \" + this.score, 150, 330);\n    context.font = \"bold 50px Arial\";\n    context.fillText(\"PRESS R TO RESTART\", 150, 400);\n  }\n\n  drawPause() {\n    let { context } = this;\n    context.font = \"100px Arial\";\n    context.fillStyle = \"green\";\n    context.fillText(\"PAUSED\", 250, 370);\n    context.font = \"bold 50px Arial\";\n    context.fillText(\"PRESS P TO PLAY/PAUSE\", 110, 420);\n  }\n\n  drawReset() {\n    let { context } = this;\n    context.font = \"100px Arial\";\n    context.fillStyle = \"red\";\n    context.fillText(\"RESET\", 250, 320);\n  }\n}\n\nexport default Game;\n","import MovingObject from \"./moving_object\";\nclass BackgroundLayer extends MovingObject {\n  constructor(canvas, imgSrc, props) {\n    super(props);\n    this.canvas = canvas;\n    this.canvas.width = 450;\n    this.canvas.height = 700;\n    this.context = this.canvas.getContext(\"2d\");\n    this.img = new Image();\n    this.img.src = `${imgSrc}`;\n  }\n\n  draw() {\n    let { canvas, context, img, posY, velocityY } = this;\n    this.posY += velocityY;\n    context.clearRect(0, 0, 450, 700);\n    context.drawImage(img, 0, -700 + posY);\n    context.drawImage(img, 0, posY);\n    if (posY >= canvas.height) {\n      this.posY = 0;\n    } else if (posY < -700) {\n      this.posY = 1;\n    }\n  }\n}\n\nexport default BackgroundLayer;\n","import BackgroundLayer from \"./background_layer\";\nconst src = \"./src/images/background_layers/\";\n\nfunction drawLayer(i) {\n  let v = { velocityY: 0 };\n\n  switch (i) {\n    case 0: // main background\n      v[\"velocityY\"] = 0.1;\n      break;\n    case 1: // diverse small stars and 2 tiny planets\n      v[\"velocityY\"] = 0.3;\n      break;\n    case 2: // white clouds\n      v[\"velocityY\"] = 0.1;\n      break;\n    case 3: // tiny white stars\n      v[\"velocityY\"] = 1;\n      break;\n    case 4: // small stars and 2 small moons\n      v[\"velocityY\"] = 0.05;\n      break;\n    case 5: // big moon\n      v[\"velocityY\"] = 0.1;\n      break;\n    case 6: // tiny rocks\n      v[\"velocityY\"] = 0.5;\n      break;\n    case 7: // slightly bigger rocks\n      v[\"velocityY\"] = 1;\n      break;\n  }\n  return new BackgroundLayer(\n    document.getElementById(\"l\" + i),\n    src + i + \".png\",\n    v\n  );\n}\n\nfunction drawBackground() {\n  let layers = [];\n  for (let i = 0; i < 8; i++) {\n    layers.push(i);\n  }\n  return layers.map(i => drawLayer(i));\n}\n\nexport default drawBackground;\n","import drawBackground from \"./background\";\n\nclass Images {\n  constructor() {\n    this.background = drawBackground();\n\n    this.tieFighterImg = new Image();\n    this.tieFighterImg.src = \"./src/images/tie-advanced.png\";\n\n    this.playerImg = new Image();\n    this.playerImg.src = \"./src/images/xwing.png\";\n\n    this.upgradeImg = new Image();\n    this.upgradeImg.src = \"./src/images/upgrades/upgrades1.png\";\n\n    this.explosionImg = new Image();\n    this.explosionImg.src =\n      \"./src/images/explosions/explosion_sprite_sheet.png\";\n  }\n}\n\nexport default Images;\n","import \"./styles/index.scss\";\nimport Game from \"./js/game\";\nimport Images from \"./js/images\";\nimport SoundSingleton from \"./js/sounds\";\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  let game, images, sounds;\n  images = new Images();\n  sounds = SoundSingleton.initialize();\n  sounds = SoundSingleton;\n  images.playerImg.onload = function() {\n    let canvas = document.getElementById(\"game-canvas\");\n    canvas.width = this.naturalWidth;\n    canvas.height = this.naturalHeight;\n    game = new Game(images, sounds);\n  };\n\n  let instructionsOpenButton = document.getElementById(\n    \"instructions-modal-open-button\"\n  );\n  let instructionsModalBackground = document.getElementById(\n    \"instructions-modal-background\"\n  );\n  let instructionsModalContent = document.getElementById(\n    \"instructions-modal-content\"\n  );\n\n  instructionsModalBackground.addEventListener(\"click\", () => {\n    instructionsModalBackground.classList.toggle(\"hidden\");\n    instructionsModalContent.classList.toggle(\"hidden\");\n  });\n\n  instructionsOpenButton.addEventListener(\"click\", () => {\n    game.paused = true;\n    instructionsModalBackground.classList.toggle(\"hidden\");\n    instructionsModalContent.classList.toggle(\"hidden\");\n  });\n\n  let playingStatus = document.getElementById(\"sound\");\n  let notPlayingStatus = document.getElementById(\"no-sound\");\n\n  playingStatus.addEventListener(\"click\", () => {\n    playingStatus.classList.toggle(\"hidden\");\n    notPlayingStatus.classList.toggle(\"hidden\");\n    this.sounds.muted = true;\n    bgMusic.pause();\n  });\n\n  notPlayingStatus.addEventListener(\"click\", () => {\n    playingStatus.classList.toggle(\"hidden\");\n    notPlayingStatus.classList.toggle(\"hidden\");\n    this.sounds.muted = false;\n    sounds.backgroundMusic.play();\n  });\n});\n"],"sourceRoot":""}